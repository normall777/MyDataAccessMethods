---
title: "Лабораточная работа №1"
author: "Izotov Ilya"
date: '26 сентября 2018 г '
---

## Задание 1
1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор
_exp.1_. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
exp.1 <- rexp(n=200)
#Среднее
mean(exp.1) 
#Стандартное отклонение:
sd(exp.1)
```
2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: 
_exp.0.1_, _exp.0.5_, _exp.5_, _exp.10_.

```{r}
#Для λ=0.1
exp.0.1 <- rexp(n=200, rate=0.1)
mean(exp.0.1); sd(exp.0.1)

#Для λ=0.5
exp.0.5 <- rexp(n=200, rate=0.5)
mean(exp.0.5); sd(exp.0.5)

#Для λ=5
exp.5 <- rexp(n=200, rate=5)
mean(exp.5); sd(exp.5)

#Для λ=10
exp.10 <- rexp(n=200, rate=10)
mean(exp.10); sd(exp.10)
```
3. Функция ``plot()`` общая функция для визуализации данных. Функция ``hist()`` принимает данные и раскладывает 
их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать.
    1. Используйте функцию ``hist()`` для построения гистограммы полученного ранее стандартного распределения.
```{r}
hist(exp.1)
```
    
2. Используйте функцию ``plot()`` с тем же самым вектором для построения графика значений в порядке следования.
```{r}
plot(exp.1)
```
    
3. Используйте функцию ``plot()`` с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния ([scatterplot](https://www.mathsisfun.com/data/scatter-xy-plots.html)) 
  этих векторов относительно друг друга.
```{r}
plot(exp.10, exp.0.5)
```

4. Теперь сравним свойства всех наших векторов. Для начала создадим вектор,
содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания.
Полученный вектор сохраним в переменную _exp.means_. 
Далее необходимо создать следующие диаграммы рассеяния:
    1. Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.
```{r}
exp.means <- c(mean(exp.1), mean(exp.0.1), mean(exp.0.5), mean(exp.5), mean(exp.10))
exp.rate <- c(1, 0.1, 0.5, 5, 10)
plot(exp.rate, exp.means)
```
    
    Вывод: с увеличением значения λ среднее значение элементов вектора экспоненциально уменьшается.
2. Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ.
```{r}
exp.sds <- c(sd(exp.1), sd(exp.0.1), sd(exp.0.5), sd(exp.5), sd(exp.10))
plot(exp.rate, exp.sds)

```
    
    Вывод: с увеличением значения λ стандартное отклонение элементов вектора экспоненциально уменьшается.  
3. Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.
```{r}
plot(exp.means, exp.sds)
```
    
    Вывод: видна прямая зависимость между средним значением и стандартным отклонением элементов вектора. Значения данной зависимости минимальны при λ=10 и возрастают при уменьшении λ до 0.1.
    
## Задание 2
R достаточно производителен, чтобы вычислять относительно большие объёмы данных.
  
* Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения
и сохраните их в вектор _huge.exp.1_. Получите среднее и стандартное отклонение.
```{r}
huge.exp.1 <- rexp(n = 1100000)
mean(huge.exp.1); sd(huge.exp.1)
```
  
* Получите гистограмму _huge.exp.1_. Она соответствует функции ``1 - e:^(-x)``? Должна ли?
```{r}
hist(huge.exp.1)
x <- 0:10
plot(x,1-exp(-x))
```
  
    Вывод: видно, что гистограмма не соответствует функции 1 - e^(-x). И не должна ей соответствовать, поскольку соответствует e^(-x)

* Получите среднее всех чисел из _huge.exp.1_ строго больших 1. Для проверки выборки может потребоваться новый вектор.
```{r}
mean(huge.exp.1[huge.exp.1>1])
min(huge.exp.1)
min(huge.exp.1[huge.exp.1>1])

```

* Получите матрицу _huge.exp.1.mat_, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу.
Что можно сказать о полученных данных?
```{r}
huge.exp.1.mat <- matrix(huge.exp.1, nrow = 1100, ncol = 1000)
hist(huge.exp.1.mat)
```
    
    Вывод: данные размещены теперь не в векторе, а в матрице 1100 на 1000, гистограмма не изменилась, поскольку данные те же самые.

* Рассчитайте среднее 137-й колонки из _huge.exp.1.mat_.
```{r}
mean(huge.exp.1.mat[,137])
```

* Найдите среднее всех 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних значений колонок.
Объясните почему форма диаграммы отличается от виденных ранее.
```{r}
huge.exp.1.mat.colMeans <- colMeans(huge.exp.1.mat)
hist(huge.exp.1.mat.colMeans)
```
    
    Вывод: диаграмма отличается от полученной ранее, поскольку в ней отображены средние значения. Средние значения экспоненциального распределения будут стремиться к нормальному распределению.
    
* Рассчитайте квадрат каждого значения из _huge.exp.1_ и найдите среднее и стандартное отклонение полученного вектора квадратов.
Объясните отличие от соответствующих показателей вектора _huge.exp.1_. Вам может помочь формула, по которой R рассчитывает
стандартное отклонение: ``sqrt(sum((x - mean(x))^2) / (n - 1))``.
                              
```{r}
huge.exp.1.square <- huge.exp.1^2
mean(huge.exp.1.square); sd(huge.exp.1.square)
```
    
    Вывод: среднее и стандартное отклонение вектора квадратов экспоненциального распределения увеличились. Это связано с тем, что функция y=x^2 растет быстрее, чем y=x. При вычислении среднего изначально складывались все полученные значения x, сейчас же складываются квадраты значений x. Стандартное отклонение увеличилось, поскольку среднее значение и отклонения от среднего увеличились, то есть числитель стал больше, а количество чисел осталось тем же n, знаменатель остался прежним.




  



